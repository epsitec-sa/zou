<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003"
         InitialTargets="ToolsMfcTrace;ToolsMfcCheck">

  <Import Project="Tools.Cpp.props"  Condition="'$(VSRootDir)' == ''" />

  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS160)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.28.29910\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.9.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.28.29333\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.8.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.27.29110\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.7.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.26.28801\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.6.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.25.28610\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.5.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.25.28508\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 preview -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.24.28314\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.4.3 -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.23.28105\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.22.27905\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.21.27702\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.20.27508\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.16.27023\atlmfc\include\</MFCIncludeDir>
  </PropertyGroup>

  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS150)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS150RootDir)VC\Tools\MSVC\14.16.27023\atlmfc\include\</MFCIncludeDir>
  </PropertyGroup>

  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS140)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS140ToolsDir)VC\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VC140RootDir)atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS140RootDir)VC\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VS140SharedRootDir)VC\atlmfc\include\</MFCIncludeDir>
  </PropertyGroup>

  <!-- Search in VSRootDir and VCRootDir -->
  
  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS160)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.28.29910\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.9.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.28.29333\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.8.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.27.29110\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.7.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.26.28801\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.6.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.25.28610\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.5.x -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.25.28508\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 preview -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.24.28314\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.4.3 -->
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.23.28105\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.22.27905\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.21.27702\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.20.27508\atlmfc\include\</MFCIncludeDir>
  </PropertyGroup>

  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS150)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VSRootDir)VC\Tools\MSVC\14.16.27023\atlmfc\include\</MFCIncludeDir>
  </PropertyGroup>

  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS140)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSToolsDir)VC\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VCRootDir)atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))">$(VSRootDir)VC\atlmfc\include\</MFCIncludeDir>
  </PropertyGroup>
  
  <Target Name="ToolsMfcCheck">
    <Error Condition="'$(MFCIncludeDir)' == '' Or !Exists($(MFCIncludeDir))" Text="MFC Include dir not found" />
  </Target>

  <!-- Test produced props with 'msbuild zou.props' -->
  <Target Name="ToolsMfcTrace" Condition="'$(ZouTrace)' == 'true'">
    <Message Importance="normal" Text="MFC Tools" />
    <Message Importance="normal" Text="===================" />
    <Message Importance="normal" Text="  MFCIncludeDir    = $(MFCIncludeDir)"    Condition="'$(MFCIncludeDir)' != ''"/>
  </Target>
</Project>
