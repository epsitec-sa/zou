<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003"
         InitialTargets="TraceToolsMfc;ToolsMfcCheck">

  <Import Project="Tools.Cpp.props"  Condition="'$(VSRootDir)' == ''" />

  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS160)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.29.30130\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.11.0 Preview 2 -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.29.30129\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.11.0 Preview 1 -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.29.30037\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.10.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.29.30037\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.10.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.28.29910\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.9.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.28.29333\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.8.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.27.29110\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.7.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.26.28801\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.6.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.25.28610\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.5.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.24.28314\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.4.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.23.28105\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.3.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.22.27905\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.2.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.21.27702\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.1.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS160RootDir)VC\Tools\MSVC\14.20.27508\atlmfc\include\</MFCIncludeDir> <!-- VS 2019 16.0.x -->
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))" /> <!-- NOT FOUND -->
  </PropertyGroup>

  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS150)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS150RootDir)VC\Tools\MSVC\14.16.27023\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))" /> <!-- NOT FOUND -->
  </PropertyGroup>

  <PropertyGroup Label="VisualStudio" Condition="'$(EnableVS140)' == 'true' And '$(MFCIncludeDir)' == ''">
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS140ToolsDir)VC\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VC140RootDir)atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS140RootDir)VC\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VS140SharedRootDir)VC\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VSToolsDir)VC\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VCRootDir)atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))">$(VSRootDir)VC\atlmfc\include\</MFCIncludeDir>
    <MFCIncludeDir Condition="!Exists($(MFCIncludeDir))" /> <!-- NOT FOUND -->
  </PropertyGroup>

  <Target Name="ToolsMfcCheck">
    <Error Condition="'$(MFCIncludeDir)' == ''" Text="MFC Include dir not found" />
  </Target>

  <!-- Test produced props with 'msbuild zou.props' -->
  <Target Name="TraceToolsMfc" Condition="'$(ZouTrace)' == 'true' Or '$(MSBuildProjectFile)' == '$(MSBuildThisFile)'">
    <Message Importance="normal" Text="MFC Tools" />
    <Message Importance="normal" Text="===================" />
    <Message Importance="normal" Text="  MFCIncludeDir = $(MFCIncludeDir)" Condition="'$(MFCIncludeDir)' != ''"/>
    <Message Importance="normal" Text="  MFCIncludeDir = * NOT FOUND *"    Condition="'$(MFCIncludeDir)' == ''"/>
  </Target>
</Project>
