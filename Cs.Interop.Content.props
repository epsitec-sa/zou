<?xml version="1.0" encoding="utf-8"?>
<!-- Import this script at the end of the C# interop agent block, at the end of the C# interop project -->
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003"
         InitialTargets="CsInteropContentTrace">

  <!-- Set default metadata for content items -->
  <ItemDefinitionGroup>
    <Content>
      <!-- Target location for content files: link by reference and keep original layout -->
      <Link Condition="'%(Link)' == ''">%(RecursiveDir)%(FileName)%(Extension)</Link>
      <CopyToOutputDirectory Condition="'%(CopyToOutputDirectory)' == ''">PreserveNewest</CopyToOutputDirectory>
      <!-- Avoid cluttering the project root -->
      <Visible Condition="'%(Visible)' == ''">false</Visible>
    </Content>
  </ItemDefinitionGroup>

  <!-- ================ InteropTrace ================ -->
  
  <Target Name="CsInteropContentTrace">
    <Message Text="%(Content.Identity) -&gt; %(Link)" />
  </Target>
</Project>