#!/bin/bash

. zoul-git-branch-core

forOpts=()
while [[ "$#" > 0 ]]; do case "$1" in
  --) shift; patterns+=("$@"); break;;
  -h|--help) zou-help $0; exit 0;;
  -r|--recursive) recursive=true;;
  -d|--dev)       hint='dev';;
  -p|--prod)      hint='prod';;
  -*)             forOpts+=($1);;
esac; shift; done

if [[ $recursive == true ]]; then
  . git-for "${forOpts[@]}" -- "branch_try_attach 'HEAD' $hint >/dev/null"
else
  branch_try_attach 'HEAD' "$hint" >/dev/null
fi
