#!/bin/bash

. zoul-git-vbranch

while [[ "$#" > 0 ]]; do case "$1" in
  -h|--help) zou-help $0; exit 0;;
  --alpha) prerel_prefix='alpha';;
  --beta)  prerel_prefix='beta';;
  --rc)    prerel_prefix='rc';;
  --rtm)   prerel_prefix='rtm';;
  --debug) debug=true;;
  -*) echo "unknown option: $1" >&2; exit 1;;
  *) ref=$1;;
esac; shift; done

ref=$(git_symbolic_ref $ref)
vbranch_next_vtag $ref $prerel_prefix