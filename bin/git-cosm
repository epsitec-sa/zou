#!/bin/bash

forOpts=()
while [[ "$#" > 0 ]]; do case "$1" in
  --) shift; args+=("$@"); break;;
  -h|--help) zou-help $0; exit 0;;
  -q|--quiet)         forOpts+=($1);;
  -e|--stop-on-error) forOpts+=($1);;
  -a|--all)           forOpts+=($1);;
  -p|--deep)          forOpts+=($1);;
  -j*)                forOpts+=($1);;
  -*) echo "unknown option: $1" >&2; exit 1;;
esac; shift; done

. git-for --bottom-up "${forOpts[@]}" 'repo_commit_submodules || true'

repo_commit_ancestor_submodules
  