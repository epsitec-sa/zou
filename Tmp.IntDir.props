<?xml version="1.0" encoding="utf-8"?>
<!-- This property sheet resolves the 'IntDir' property (supports override in zou.cfg folder). -->
<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003"
         InitialTargets="TmpIntDirTrace">

  <Import Project="zou.props" Condition="'$(ZouTmpDir)' == ''"/>
  
  <!-- For agent functions, redirect IntDir to temp folder to avoid cluttering the agent folder -->
  <PropertyGroup>
    <_PropertySheetDisplayName>Intermediate Directory: $(ZouTmpDir)...</_PropertySheetDisplayName>
    <IntDir>$([System.IO.Path]::Combine('$(ZouTmpDir)','$(BundleName)', '$(BundleRelativeProjectPath)', '$(Platform)', '$(PlatformToolset)', '$(Configuration)'))\</IntDir>
    <!-- Avoid MSB8029 warning -->
    <IgnoreWarnIntDirInTempDetected>true</IgnoreWarnIntDirInTempDetected>
  </PropertyGroup>

  <Target Name="TmpIntDirTrace" Condition="'$(ZouTrace)' == 'true' Or '$(MSBuildProjectFile)' == '$(MSBuildThisFile)'">
    <Message Importance="normal" Text="IntDir = $(IntDir)" />
  </Target>
</Project>
